{"name": "3 Проверка чекбокса Профсфера связана с мед.деятельностью", "status": "failed", "statusDetails": {"message": "AssertionError: Не указан E-Mail. != Не указан номер телефона.", "trace": "driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1c5b8639dda3db07934cb6d151c7a9cb\")>\nloc = 'email'\n\n    @allure.story('Покупка полиса от коронавируса')\n    @allure.title(f\"{case_num} \" + \"Проверка чекбокса Профсфера связана с мед.деятельностью\")\n    @pytest.mark.parametrize(\"loc\", FIELD_DATA)\n    def test_check_errors_with_empty_field(driver, loc):\n        page = IndexPageSkin(driver)\n        driver.get(URL)\n    \n        (page.click_checkbox_virus_contact().\n         click_checkbox_agree().\n         click_calculate().\n         enter_fio('Иванов Иван Иванович' if loc != 'fio' else '').\n         enter_birthdate('12121988' if loc != 'birthday' else '').\n         enter_passport_number(2233546755 if loc != 'passport_number' else '').\n         enter_passport_date(12122008 if loc != 'passport_date' else '').\n         enter_address('Москва ул. Ленина 1' if loc != 'address' else '').\n         enter_phone(89222323322 if loc != 'phone' else '').\n         enter_email('test@mail.com' if loc != 'email' else '').\n         click_to_buy().\n>        check_error(loc)\n         )\n\ntests/test_polis_corona_gardian.py:69: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <source.pages.page_buy_polis.IndexPageSkin object at 0x7f4ff76d5870>\nloc = 'email'\n\n    @allure.step(\"Проверим текст ошибки\")\n    def check_error(self, loc):\n        elem = self.is_element_visible(self.locator.ERROR).text\n        if loc == 'fio':\n            assert elem == source.data.strings.FIO_ERROR, f\"{elem} != {source.data.strings.FIO_ERROR}\"\n        elif loc == 'birthday':\n            assert elem == source.data.strings.BIRTHDAY_ERROR, f\"{elem} != {source.data.strings.BIRTHDAY_ERROR}\"\n        elif loc == 'passport_number':\n            assert elem == source.data.strings.PASSPORT_NUMBER_ERROR, f\"{elem} != {source.data.strings.PASSPORT_NUMBER_ERROR}\"\n        elif loc == 'passport_date':\n            assert elem == source.data.strings.PASSPORT_DATE_ERROR, f\"{elem} != {source.data.strings.PASSPORT_DATE_ERROR}\"\n        elif loc == 'address':\n            assert elem == source.data.strings.ADDRESS_ERROR, f\"{elem} != {source.data.strings.ADDRESS_ERROR}\"\n        elif loc == 'phone':\n            assert elem == source.data.strings.PHONE_ERROR, f\"{elem} != {source.data.strings.PHONE_ERROR}\"\n        elif loc == 'email':\n>           assert elem == source.data.strings.EMAIL_ERROR, f\"{elem} != {source.data.strings.EMAIL_ERROR}\"\nE           AssertionError: Не указан E-Mail. != Не указан номер телефона.\n\nsource/pages/page_buy_polis.py:133: AssertionError"}, "steps": [{"name": "Клик на чекбокс отсутсвие совместнопроживающего больного коронавирусом", "status": "passed", "start": 1703263676840, "stop": 1703263681177}, {"name": "Клик на чекбокс согласие на обработку ПД", "status": "passed", "start": 1703263681177, "stop": 1703263681274}, {"name": "Клик на кнопку Продолжить на этапе Расчет", "status": "passed", "start": 1703263681274, "stop": 1703263681341}, {"name": "Ввод ФИО", "status": "passed", "parameters": [{"name": "name", "value": "'Иванов Иван Иванович'"}], "start": 1703263681341, "stop": 1703263681493}, {"name": "Ввод birthdate", "status": "passed", "parameters": [{"name": "birthdate", "value": "'12121988'"}], "start": 1703263681493, "stop": 1703263681626}, {"name": "Ввод серии и номера паспорта", "status": "passed", "parameters": [{"name": "passport_number", "value": "2233546755"}], "start": 1703263681627, "stop": 1703263681695}, {"name": "Ввод даты выдачи паспорта", "status": "passed", "parameters": [{"name": "date", "value": "12122008"}], "start": 1703263681695, "stop": 1703263681829}, {"name": "Ввод адреса", "status": "passed", "parameters": [{"name": "address", "value": "'Москва ул. Ленина 1'"}], "start": 1703263681829, "stop": 1703263681899}, {"name": "Ввод телефона", "status": "passed", "parameters": [{"name": "phone", "value": "89222323322"}], "start": 1703263681900, "stop": 1703263681959}, {"name": "Ввод email", "status": "passed", "parameters": [{"name": "email", "value": "''"}], "start": 1703263681959, "stop": 1703263682033}, {"name": "Клик Перейти к оплате", "status": "passed", "start": 1703263682034, "stop": 1703263682119}, {"name": "Проверим текст ошибки", "status": "failed", "statusDetails": {"message": "AssertionError: Не указан E-Mail. != Не указан номер телефона.\n", "trace": "  File \"/home/silyin/Desktop/Test/.venv/lib/python3.10/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/home/silyin/Desktop/Test/source/pages/page_buy_polis.py\", line 133, in check_error\n    assert elem == source.data.strings.EMAIL_ERROR, f\"{elem} != {source.data.strings.EMAIL_ERROR}\"\n"}, "parameters": [{"name": "loc", "value": "'email'"}], "start": 1703263682119, "stop": 1703263683191}], "attachments": [{"name": "Screenshot", "source": "1e712260-7f16-45c1-898c-462c16935405-attachment.png", "type": "image/png"}], "parameters": [{"name": "loc", "value": "'email'"}], "start": 1703263676527, "stop": 1703263683191, "uuid": "537d8220-bf13-4f2d-9b9c-0fe97df0c0e8", "historyId": "3a95e1ccf09dbd9d7a9e2bfda798a023", "testCaseId": "86cbd47d72de716e1b565f8bb0b6dc78", "fullName": "tests.test_polis_corona_gardian#test_check_errors_with_empty_field", "labels": [{"name": "story", "value": "Покупка полиса от коронавируса"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_polis_corona_gardian"}, {"name": "host", "value": "silyin-ThinkBook-14-G4-IAP"}, {"name": "thread", "value": "1323662-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_polis_corona_gardian"}]}